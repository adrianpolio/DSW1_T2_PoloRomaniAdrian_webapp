
<div class="books-container">
    <div class="header">
      <h2>ğŸ“š Books Library</h2>
      <button class="btn btn-primary" (click)="openCreateModal()">
        â• Add New Book
      </button>
    </div>
  
    <div *ngIf="loading" class="loading">
      <div class="spinner"></div>
      <p>Loading books...</p>
    </div>
  
    <div *ngIf="!loading && books.length === 0" class="empty-state">
      <p>ğŸ“­ No books found</p>
      <button class="btn btn-primary" (click)="openCreateModal()">Add your first book</button>
    </div>
  
    <div *ngIf="!loading && books.length > 0" class="books-grid">
      <div *ngFor="let book of books" class="book-card">
        <div class="book-header">
          <h3>{{ book.title }}</h3>
          <span class="stock-badge" [class.low-stock]="book.stock <= 2">
            ğŸ“¦ Stock: {{ book.stock }}
          </span>
        </div>
        <div class="book-body">
          <p class="author">âœï¸ {{ book.author }}</p>
          <p class="isbn">ğŸ”– ISBN: {{ book.isbn }}</p>
          <p class="date">ğŸ“… Added: {{ book.createdAt | date:'short' }}</p>
        </div>
        <div class="book-actions">
          <button class="btn btn-edit" (click)="openEditModal(book)">
            âœï¸ Edit
          </button>
          <button class="btn btn-delete" (click)="deleteBook(book.id, book.title)">
            ğŸ—‘ï¸ Delete
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal -->
  <div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>{{ isEditMode ? 'âœï¸ Edit Book' : 'â• Add New Book' }}</h3>
        <button class="close-btn" (click)="closeModal()">âœ–</button>
      </div>
      <form (ngSubmit)="saveBook()" class="modal-body">
        <div class="form-group">
          <label for="title">Title *</label>
          <input
            type="text"
            id="title"
            [(ngModel)]="bookForm.title"
            name="title"
            required
            placeholder="Enter book title"
          />
        </div>
  
        <div class="form-group">
          <label for="author">Author *</label>
          <input
            type="text"
            id="author"
            [(ngModel)]="bookForm.author"
            name="author"
            required
            placeholder="Enter author name"
          />
        </div>
  
        <div class="form-group">
          <label for="isbn">ISBN *</label>
          <input
            type="text"
            id="isbn"
            [(ngModel)]="bookForm.isbn"
            name="isbn"
            required
            placeholder="Enter ISBN"
          />
        </div>
  
        <div class="form-group">
          <label for="stock">Stock *</label>
          <input
            type="number"
            id="stock"
            [(ngModel)]="bookForm.stock"
            name="stock"
            required
            min="0"
            placeholder="Enter stock quantity"
          />
        </div>
  
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">
            Cancel
          </button>
          <button type="submit" class="btn btn-primary">
            {{ isEditMode ? 'Update' : 'Create' }}
          </button>
        </div>
      </form>
    </div>
  </div>